<!DOCTYPE html>
<html class="theme-dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Duct Framework</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Bebas+Neue&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/styles/an-old-hope.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/clojure.min.js"></script>
    <script>hljs.highlightAll();</script>
  </head>
  <body>
    <section class="hero">
      <div class="hero-body">
        <div class="container has-text-centered">
          <h1 class="title">
            <img class="logo" src="logo.svg">
            Duct
          </h1>
          <p class="subtitle">A server-side framework for Clojure</p>
        </div>
      </div>
    </section>
    <div class="nav-buttons">
      <div class="container has-text-centered">
        <a class="button is-primary is-rounded is-size-6" href="#">Read the docs</a>
      </div>
    </div>
    <section class="section">
      <div class="container is-max-tablet">
        <p class="is-size-4">
          Define the structure of your application as <strong>pure data</strong>.
        </p>
        <p>
          Instead of a prescribed file tree, Duct uses a Clojure data structure
          in a <code>duct.edn</code> file to describe how the components of your
          application are connected and configured.
        </p>
        <pre class="highlight"><code class="language-clojure">{:system
 {:duct.module/logging {}
  :duct.module/sql {:migrations #duct/include "db/migrations.edn"}
  :duct.module/web {:features #{:api}
                    :routes [["/items" #ig/ref :demo.routes/items]]}
  :demo.routes/items {:db #ig/ref :duct.database/sql}}}</code></pre>
      </div>
    </section>
    <section class="section">
      <div class="container is-max-tablet">
        <p class="is-size-4">
          Factor out common configuration with <strong>modules</strong>.
        </p>
        <p>
          Modules expand out into extra configuration that you can inspect and
          optionally override. These fulfil a similar role to templates and
          generators in frameworks based around a file tree.
        </p>
        <div class="columns split-view">
          <div class="column left">
            <pre class="highlight"><code class="language-clojure">


{:duct.module/logging {}}


            </code></pre>
          </div>
          <div class="column right">
            <pre class="highlight"><code class="language-clojure">{:duct.logger/simple
 {:appenders
  [{:type :stdout
    :brief? true
    :levels #{:report}}
   {:type :file
    :path "logs/repl.log"}]}}</code></pre>
          </div>
        </div>
      </div>
    </section>
    <section class="section">
      <div class="container is-max-tablet">
        <p class="is-size-4">
          Write the rest of your code in idiomatic <strong>Clojure</strong>.
        </p>
        <p>
          The top-level keywords in <code>duct.edn</code> are linked to normal
          Clojure functions or multimethods. This code is <em>simpler</em> as it
          doesn't need to know how it's connected to the rest of the system.
        </p>
        <pre class="highlight"><code class="language-clojure">(ns demo.routes
  (:require [next.jdbc :as jdbc]))

(defn items [{:keys [db]}]
  (fn handler [_request]
    {:body {:items (jdbc/execute! db ["SELECT * FROM items"])}}))</code></pre>
      </div>
    </section>
  </body>
</html>
